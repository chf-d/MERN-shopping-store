{"version":3,"sources":["components/Main.jsx","components/Admin.jsx","components/Product.jsx","components/Home.jsx","components/Stats.jsx","App.js","index.js"],"names":["Main","className","to","Component","Admin","props","show","item","id","state","edit","editId","value","title","onChange","e","setState","target","price","description","image","onClick","updateValues","src","saveValueforEditing","removeProduct","_id","updateProduct","parseInt","updateProducts","addproduct","newProduct","displayAddSection","add","placeholder","this","productsList","map","i","Product","addToCart","Home","displayCart","cart","cartList","length","removeFromCart","total","finishTransaction","ind","filter","newTransaction","products","axios","post","getDatafromDB","alert","Stats","CalcProducts","transactionsList","productsResult","forEach","transaction","product","push","transaction_id","productCounter","productUniqueCounter","Counter","CalcTop5Sales","CalcTop5UniqueSales","nweProductsResult","top5Sales","len","top","top5UniqueSales","CalcDays","past5Days","date","Date","now","toLocaleDateString","timeZone","Day","App","get","then","res","data","index","delete","console","log","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a68e0898.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default class Main extends Component {\r\n    render() {\r\n        return (\r\n            <div className='grid'>\r\n\r\n                <div></div>\r\n                <div></div>\r\n                <Link to='/admin'><button className='mainButton'>Admin</button></Link>\r\n                <Link to='/home'><button className='mainButton'>Home</button></Link>\r\n                <Link to='/stats'><button className='mainButton'>Stats</button></Link>\r\n                <div></div>\r\n                <div></div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport '../App.css';\r\n\r\nexport default class Admin extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n\r\n            add: false,\r\n            edit: false,\r\n            editId: '',\r\n            _id: 0,\r\n            title: '',\r\n            price: '',\r\n            description: '',\r\n            image: ''\r\n        }\r\n    }\r\n\r\n    show = (item, id) => {\r\n\r\n        if (this.state.edit) {\r\n\r\n            if (id == this.state.editId) {\r\n\r\n                return (\r\n\r\n                    <tr>\r\n                        <td><input value={this.state.title} onChange={(e) => { this.setState({ title: e.target.value }) }} /></td>\r\n                        <td><input value={this.state.price} onChange={(e) => { this.setState({ price: e.target.value }) }} /></td>\r\n                        <td><input value={this.state.description} onChange={(e) => { this.setState({ description: e.target.value }) }} /></td>\r\n                        <td><input value={this.state.image} onChange={(e) => { this.setState({ image: e.target.value }) }} /></td>\r\n                        <td>\r\n                            <button onClick={() => { this.updateValues(id) }}>update</button>\r\n                        </td>\r\n                    </tr>\r\n                )\r\n            }\r\n            else {\r\n                return (\r\n\r\n                    <tr>\r\n                        <td>{item.title}</td>\r\n                        <td>{item.price}</td>\r\n                        <td>{item.description}</td>\r\n                        <td><img className=\"imgSize2\" src={item.image} /></td>\r\n                        <td>\r\n                            <button onClick={() => { this.saveValueforEditing(item, id) }}>edit</button>\r\n                            <button onClick={() => { this.props.removeProduct(item, id) }}>delete</button>\r\n                        </td>\r\n                    </tr>\r\n                )\r\n            }\r\n        }\r\n\r\n        else {\r\n            return (\r\n\r\n                <tr>\r\n                    <td>{item.title}</td>\r\n                    <td>{item.price}</td>\r\n                    <td>{item.description}</td>\r\n                    <td><img className=\"imgSize2\" src={item.image} /></td>\r\n                    <td>\r\n                        <button onClick={() => { this.saveValueforEditing(item, id) }}>edit</button>\r\n                        <button onClick={() => { this.props.removeProduct(item, id) }}>delete</button>\r\n                    </td>\r\n                </tr>\r\n            )\r\n        }\r\n    }\r\n\r\n    saveValueforEditing = (item, id) => {\r\n\r\n        this.setState({\r\n            edit: true,\r\n            editId: id,\r\n            _id: item._id,\r\n            title: item.title,\r\n            price: item.price,\r\n            description: item.description,\r\n            image: item.image\r\n        })\r\n    }\r\n\r\n    updateValues = (id) => {\r\n\r\n        let updateProduct = {\r\n\r\n            _id: this.state._id,\r\n            title: this.state.title,\r\n            price: parseInt(this.state.price),\r\n            description: this.state.description,\r\n            image: this.state.image\r\n        }\r\n\r\n        this.props.updateProducts(updateProduct, id)\r\n    }\r\n\r\n    addproduct = () => {\r\n\r\n        let newProduct = {\r\n\r\n            title: this.state.title,\r\n            price: this.state.price,\r\n            description: this.state.description,\r\n            image: this.state.image\r\n        }\r\n\r\n        this.props.addproduct(newProduct)\r\n    }\r\n\r\n    displayAddSection = () => {\r\n\r\n        if (this.state.add) {\r\n\r\n            return (\r\n\r\n                <div>\r\n\r\n                    <table>\r\n\r\n                        <tr>\r\n                            <td><input placeholder='title' onChange={(e) => { this.setState({ title: e.target.value }) }} /></td>\r\n                            <td><input placeholder='price' onChange={(e) => { this.setState({ price: e.target.value }) }} /></td>\r\n                            <td><input placeholder='description' onChange={(e) => { this.setState({ description: e.target.value }) }} /></td>\r\n                            <td><input placeholder='image' onChange={(e) => { this.setState({ image: e.target.value }) }} /></td>\r\n                            <td><button onClick={() => { this.addproduct() }}>add</button></td>\r\n                        </tr>\r\n\r\n                    </table><br />\r\n\r\n                </div>\r\n            )\r\n\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n\r\n                <button className='sistemButton card' onClick={() => { this.setState({ add: !this.state.add }) }} >add product</button><br />\r\n                {this.displayAddSection()}\r\n\r\n                <table>\r\n                    <tr>\r\n                        <td>title</td>\r\n                        <td>price</td>\r\n                        <td>description</td>\r\n                        <td>image</td>\r\n                        <td>edit/delete</td>\r\n                    </tr>\r\n\r\n                    {this.props.productsList.map((item, i) => {\r\n                        return this.show(item, i)\r\n                    })}\r\n\r\n                </table>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nexport default class Product extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='AllItems'>\r\n                <img className=\"imgSize\" src={this.props.item.image} />\r\n                <h4>{this.props.item.title}</h4>\r\n                <h6>{this.props.item.price}</h6>\r\n                <button className='productButton' onClick={() => this.props.addToCart(this.props.item)}>Add to cart</button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport Product from './Product.jsx';\r\nimport axios from 'axios';\r\n\r\nexport default class Home extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n\r\n            cart: false,\r\n            cartList: [],\r\n            total: 0\r\n\r\n        }\r\n    }\r\n\r\n    displayCart = () => {\r\n\r\n        if (this.state.cart) {\r\n\r\n            if (this.state.cartList.length <= 0) {\r\n\r\n                return <div>There is nothing in the cart</div>\r\n\r\n            }\r\n            else {\r\n                return (\r\n                    <div>\r\n\r\n                        <table>\r\n                            <tr>\r\n                                <td>title</td>\r\n                                <td>price</td>\r\n                                <td>Image</td>\r\n                                <td>delete</td>\r\n                            </tr>\r\n\r\n                            {this.state.cartList.map((item, i) => {\r\n                                return (\r\n                                    <tr>\r\n                                        <td>{item.title}</td>\r\n                                        <td>{item.price}</td>\r\n                                        <td><img className=\"imgSize2\" src={item.image} /></td>\r\n                                        <td>\r\n                                            <button onClick={() => { this.removeFromCart(item, i) }}>❌</button>\r\n                                        </td>\r\n                                    </tr>\r\n                                )\r\n                            })}\r\n                        </table>\r\n\r\n                        <br />\r\n                        total = {this.state.total}\r\n                        <br />\r\n                        <button onClick={this.finishTransaction}>buy</button>\r\n                    </div>\r\n                )\r\n            }\r\n        }\r\n    }\r\n\r\n    addToCart = (item) => {\r\n        this.setState({ cartList: [...this.state.cartList, item] })\r\n        this.setState({ total: this.state.total + parseInt(item.price) })\r\n    }\r\n\r\n    removeFromCart = (item, ind) => {\r\n        this.setState({ cartList: this.state.cartList.filter((e, i) => i != ind) })\r\n\r\n        if (this.state.total > 0) {\r\n            this.setState({ total: this.state.total - parseInt(item.price) })\r\n        }\r\n    }\r\n\r\n    finishTransaction = () => {\r\n\r\n        let newTransaction = {\r\n\r\n            products: this.state.cartList,\r\n            total: this.state.total\r\n        }\r\n        axios.post('/api/addTransaction/', newTransaction)\r\n\r\n        this.props.getDatafromDB()\r\n\r\n        this.setState({ cartList: [], total: 0 })\r\n        alert('Transaction successfully received')\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n\r\n                <button className='sistemButton card' onClick={() => { this.setState({ cart: !this.state.cart }) }} >cart</button><br />\r\n                {this.displayCart()}\r\n\r\n\r\n                {this.props.productsList.map((item) => {\r\n                    return <Product item={item} addToCart={this.addToCart} />\r\n                })}\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nexport default class Stats extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n\r\n            top5Sales: [],\r\n            top5UniqueSales: [],\r\n            past5Days: [],\r\n\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        this.CalcProducts()\r\n        this.CalcDays()\r\n    }\r\n\r\n    CalcProducts = () => {\r\n\r\n        let transactionsList = this.props.transactionsList\r\n        let productsResult = []\r\n\r\n        transactionsList.forEach(transaction => {\r\n\r\n            transaction.products.forEach(product => {\r\n\r\n                if (productsResult.length == 0) {\r\n\r\n                    productsResult.push({\r\n                        product: product,\r\n                        transaction_id: transaction._id,\r\n                        productCounter: 1,\r\n                        productUniqueCounter: 1\r\n                    })\r\n                }\r\n                else {\r\n\r\n                    let Counter = 0\r\n                    productsResult.forEach(item => {\r\n\r\n                        if (item.product._id == product._id) {\r\n                            Counter++\r\n                        }\r\n                    })\r\n\r\n                    if (Counter == 0) {\r\n\r\n                        productsResult.push({\r\n                            product: product,\r\n                            transaction_id: transaction._id,\r\n                            productCounter: 1,\r\n                            productUniqueCounter: 1\r\n                        })\r\n                    }\r\n                    else {\r\n\r\n                        productsResult.forEach(item => {\r\n\r\n                            if (item.product._id == product._id) {\r\n\r\n                                if (item.transaction_id == transaction._id) {\r\n\r\n                                    item.productCounter++\r\n                                }\r\n                                else {\r\n                                    item.transaction_id = transaction._id\r\n                                    item.productCounter++\r\n                                    item.productUniqueCounter++\r\n                                }\r\n                            }\r\n                        })\r\n                    }\r\n                }\r\n            })\r\n        })\r\n\r\n        this.CalcTop5Sales(productsResult)\r\n        this.CalcTop5UniqueSales(productsResult)\r\n    }\r\n\r\n    CalcTop5Sales = (productsResult) => {\r\n\r\n        let nweProductsResult = productsResult\r\n        let top5Sales = []\r\n\r\n        let len = 5\r\n        if (nweProductsResult.length < 5) {\r\n            len = nweProductsResult.length\r\n        }\r\n\r\n        for (let i = 0; i < len; i++) {\r\n\r\n            let top = []\r\n\r\n            nweProductsResult.forEach(product => {\r\n\r\n                if (top == '') {\r\n\r\n                    top = product\r\n                }\r\n                else {\r\n\r\n                    if (product.productCounter > top.productCounter) {\r\n\r\n                        top = product\r\n                    }\r\n                }\r\n            })\r\n\r\n            top5Sales.push(top)\r\n            nweProductsResult = nweProductsResult.filter(product => product.product._id != top.product._id)\r\n        }\r\n\r\n        this.setState({ top5Sales: top5Sales })\r\n    }\r\n\r\n    CalcTop5UniqueSales = (productsResult) => {\r\n\r\n        let nweProductsResult = productsResult\r\n        let top5UniqueSales = []\r\n\r\n        let len = 5\r\n        if (nweProductsResult.length < 5) {\r\n            len = nweProductsResult.length\r\n        }\r\n\r\n        for (let i = 0; i < len; i++) {\r\n\r\n            let top = []\r\n\r\n            nweProductsResult.forEach(product => {\r\n\r\n                if (top == '') {\r\n\r\n                    top = product\r\n                }\r\n                else {\r\n\r\n                    if (product.productUniqueCounter > top.productUniqueCounter) {\r\n\r\n                        top = product\r\n                    }\r\n                }\r\n            })\r\n\r\n            top5UniqueSales.push(top)\r\n            nweProductsResult = nweProductsResult.filter(product => product.product._id != top.product._id)\r\n        }\r\n\r\n        this.setState({ top5UniqueSales: top5UniqueSales })\r\n    }\r\n\r\n    CalcDays = () => {\r\n\r\n        let transactionsList = this.props.transactionsList\r\n\r\n        let past5Days = []\r\n\r\n        for (let i = 0; i < 5; i++) {\r\n\r\n            let date = new Date(Date.now() - i * 24 * 60 * 60 * 1000).toLocaleDateString('he-IL', { timeZone: 'Asia/Jerusalem' })\r\n            let total = 0\r\n\r\n            transactionsList.forEach(transaction => {\r\n                if (transaction.date == date) {\r\n\r\n                    total += transaction.total\r\n                }\r\n            })\r\n\r\n            past5Days.push({\r\n                Day: date,\r\n                total: total\r\n            })\r\n\r\n        }\r\n\r\n        this.setState({ past5Days: past5Days })\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className='flex'>\r\n\r\n                <div >\r\n                    <h3>top 5 sales</h3>\r\n\r\n                    {this.state.top5Sales.map(item => {\r\n\r\n                        return <h4>{item.product.title}</h4>\r\n                    })}\r\n\r\n                </div>\r\n\r\n                <div>\r\n                    <h3>top 5 unique sales</h3>\r\n\r\n                    {this.state.top5UniqueSales.map(item => {\r\n\r\n                        return <h4>{item.product.title}</h4>\r\n                    })}\r\n\r\n                </div>\r\n\r\n                <div>\r\n                    <h3>past 5 days</h3>\r\n\r\n                    {this.state.past5Days.map(item => {\r\n\r\n                        return <h4>{item.Day} {item.total}</h4>\r\n                    })}\r\n\r\n                </div>\r\n\r\n            </div >\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\nimport axios from 'axios';\nimport './App.css';\nimport Main from './components/Main.jsx';\nimport Admin from './components/Admin.jsx';\nimport Home from './components/Home.jsx';\nimport Stats from './components/Stats.jsx';\n\nexport default class App extends Component {\n\n  state = {\n    productsList: [],\n    transactionsList: []\n  }\n\n  componentDidMount() {\n    this.getDatafromDB()\n  }\n\n  getDatafromDB = () => {\n\n    axios.get('/api/getProducts')\n      .then((res) => {\n        this.setState({ productsList: res.data })\n      })\n\n    axios.get('/api/getTransactions')\n      .then((res) => {\n        this.setState({ transactionsList: res.data })\n      })\n  }\n\n  removeProduct = (Product, index) => {\n\n    axios.delete(`/api/deleteProduct/${Product._id}`, Product)\n      .then((res) => {\n        console.log(res);\n      })\n\n    this.setState({ productsList: this.state.productsList.filter((e, i) => i != index) })\n  }\n\n  updateProducts = (updateProduct, index) => {\n\n    axios.post(`/api/updateProduct/${updateProduct._id}`, updateProduct)\n      .then((res) => {\n        console.log(res);\n      })\n\n    let productsList = this.state.productsList\n    productsList[index] = updateProduct\n    this.setState({ productsList: productsList })\n  }\n\n  addproduct = (newProduct) => {\n\n    axios.post('/api/addProduct/', newProduct)\n\n    this.setState({ productsList: [...this.state.productsList, newProduct] })\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n\n        <Router>\n          <Switch>\n\n            <Route exact path='/' component={() => { return <Main /> }} />\n            <Route exact path='/admin' component={() => {\n              return <Admin\n                productsList={this.state.productsList}\n                updateProducts={this.updateProducts}\n                addproduct={this.addproduct}\n                removeProduct={this.removeProduct}\n              />\n            }} />\n            <Route exact path='/home' component={() => { return <Home productsList={this.state.productsList} getDatafromDB={this.getDatafromDB} /> }} />\n            <Route exact path='/stats' component={() => { return <Stats transactionsList={this.state.transactionsList} /> }} />\n\n          </Switch>\n        </Router>\n\n      </div>\n    )\n  }\n}\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App.js';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);"],"sourceRoot":""}